스팸메일 분류기 자동화 현황
목표: GitHub에 코드를 푸시하면, 모델 학습부터 Docker 이미지 빌드, 그리고 AWS EC2에 자동 배포까지 완료되는 CI/CD 파이프라인을 구축하는 것
성공적으로 완료된 작업:
GitHub Actions 워크플로우(main_ci.yml) 완성: 모델 학습, Docker 이미지 빌드 및 푸시, EC2 자동 배포까지 성공
SSH 접속 문제 해결: 우리가 가장 고생했던 ssh: handshake failed 오류를 EC2_USERNAME 시크릿을 추가하여 해결
필요한 모든 시크릿 설정 완료: EC2_HOST, EC2_USERNAME, EC2_SSH_KEY_, DOCKER_USERNAME, DOCKER_PASSWORD 등 모든 시크릿이 올바르게 설정
EC2 환경 설정 완료: SSH 접속을 위한 키와 파일 권한도 올바르게 설정
앞으로 해야 할 일 (다음 단계)
이제 파이프라인은 완벽하게 작동하니, 실제 서비스가 잘 동작하는지 확인
배포된 API 동작 확인:
EC2 인스턴스의 퍼블릭 IP 주소(http://3.34.166.235)로 접속해서, Flask API가 정상적으로 실행되고 있는지 확인
스팸 분류기 기능 테스트:
curl과 같은 도구를 사용해서 스팸 문구를 API에 보내보고, is_spam 값이 올바르게 나오는지 확인
CI/CD 파이프라인 강화:
현재는 학습 및 배포만 자동화되어 있어. 앞으로는 테스트 코드(pytest)를 작성해서, 코드가 변경될 때마다 자동으로 테스트가 실행되도록 파이프라인을 개선
서비스 안정성 확보:
현재는 sudo docker run -d 명령어로 컨테이너를 실행하고 있는데, 만약 컨테이너가 죽으면 재시작되지 않아. systemd 같은 도구를 사용해서 컨테이너가 항상 실행되도록 안정성을 높이기
